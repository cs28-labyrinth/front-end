{"version":3,"sources":["components/Login.js","components/Register.js","components/Room.js","utils/axiosWithAuth.js","components/MovementCalls.js","components/MovementBar.js","components/MainPage.js","components/PrivateRoute.js","components/Navigation.js","components/Chat.js","components/MapPage.js","App.js","index.js"],"names":["Login","history","useHistory","initialValues","username","password","onSubmit","values","axios","post","then","res","localStorage","setItem","data","key","push","catch","err","console","log","type","name","Register","props","RegisterSchema","Yup","shape","min","max","required","password1","password2","validationSchema","id","Date","now","errors","touched","Card","styled","div","Room","getTitle","getDescription","axiosWithAuth","token","getItem","create","baseURL","headers","Authorization","moveNorth","direction","moveEast","moveSouth","moveWest","MovementBar","onClick","MainPage","useState","room","setRoom","useEffect","get","roomData","rooms","map","item","fields","title","description","PrivateRoute","Component","component","rest","render","to","NavBar","Navigation","Chat","messages","inputEl","useRef","e","i","user","message","ref","current","value","MapPage","setLen","setRooms","setMessages","setUser","players","setPlayers","a","len","Math","sqrt","length","sort","b","pk","pusher","window","Pusher","cluster","subscribe","uuid","bind","prev","current_room","userLeft","ev","fetchData","fetchData2","addEventListener","removeEventListener","className","v","borders","p","e_to","concat","w_to","n_to","s_to","App","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8e80d2a1.chunk.js","sourcesContent":["import React from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nexport default function Login() {\n\tlet history = useHistory();\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{ username: '', password: '' }}\n\t\t\tonSubmit={(values) => {\n\t\t\t\taxios\n\t\t\t\t\t// .post('https://cs28labyrinth.herokuapp.com/api/login/', {\n\t\t\t\t\t// \t...values,\n\t\t\t\t\t// })\n\t\t\t\t\t.post('http://localhost:8000/api/login/', {\n\t\t\t\t\t\t...values,\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tlocalStorage.setItem('token', `Token ${res.data.key}`);\n\t\t\t\t\t\thistory.push('/mainpage');\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => console.log(err));\n\t\t\t}}\n\t\t>\n\t\t\t<Form>\n\t\t\t\t<span>Username: </span>\n\t\t\t\t<Field type=\"username\" name=\"username\"></Field>\n\n\t\t\t\t<span>Password: </span>\n\t\t\t\t<Field type=\"password\" name=\"password\"></Field>\n\n\t\t\t\t<button type=\"submit\">Log In</button>\n\t\t\t</Form>\n\t\t</Formik>\n\t);\n}\n","import React from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport * as Yup from 'yup';\n\nexport default function Register(props) {\n\tconst RegisterSchema = Yup.object().shape({\n\t\tusername: Yup.string()\n\t\t\t.min(5, 'Must be between 5 and 15 characters.')\n\t\t\t.max(15, 'Must be between 5 and 15 characters.')\n\t\t\t.required('Required Field'),\n\t\tpassword1: Yup.string()\n\t\t\t.min(5, 'Must be between 5 and 15 characters.')\n\t\t\t.max(15, 'Must be between 5 and 15 characters.')\n\t\t\t.required('Required Field'),\n\t\tpassword2: Yup.string()\n\t\t\t.min(5, 'Must be between 5 and 15 characters.')\n\t\t\t.max(15, 'Must be between 5 and 15 characters.')\n\t\t\t.required('Required Field'),\n\t});\n\tconsole.log(props);\n\tlet history = useHistory();\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{ username: '', password1: '', password2: '' }}\n\t\t\tvalidationSchema={RegisterSchema}\n\t\t\tonSubmit={(values) => {\n\t\t\t\taxios\n\t\t\t\t\t// .post('https://cs28labyrinth.herokuapp.com/api/registration/', {\n\t\t\t\t\t// \t...values,\n\t\t\t\t\t// \tid: Date.now,\n\t\t\t\t\t// })\n\t\t\t\t\t.post('http://localhost:8000/api/registration/', {\n\t\t\t\t\t\t...values,\n\t\t\t\t\t\tid: Date.now,\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\thistory.push('/login');\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => console.log(err));\n\t\t\t}}\n\t\t>\n\t\t\t{(errors, touched) => (\n\t\t\t\t<Form>\n\t\t\t\t\t<span>Username: </span>\n\t\t\t\t\t<Field type=\"username\" name=\"username\"></Field>\n\n\t\t\t\t\t{errors.username && touched.username ? (\n\t\t\t\t\t\t<div>{errors.username}</div>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t<span>Password1: </span>\n\t\t\t\t\t<Field type=\"password\" name=\"password1\"></Field>\n\n\t\t\t\t\t<span>Password2: </span>\n\t\t\t\t\t<Field type=\"password\" name=\"password2\"></Field>\n\n\t\t\t\t\t<button type=\"submit\">Register</button>\n\t\t\t\t</Form>\n\t\t\t)}\n\t\t</Formik>\n\t);\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Card = styled.div`\n\tbackground-image: linear-gradient(to bottom right, lightblue, darkblue);\n\tcolor: white;\n\n\tp {\n\t\tcolor: black;\n\t}\n\twidth: 400px;\n\theight: 250px;\n\tborder: ridge 5px dodgerblue;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin: 20px;\n`;\n\nconst Room = (props) => {\n\treturn (\n\t\t<Card>\n\t\t\t<h3>Room: {props.getTitle}</h3>\n\t\t\t<div>{props.getDescription}</div>\n\t\t</Card>\n\t);\n};\n\nexport default Room;\n","import axios from 'axios';\n\nexport const axiosWithAuth = () => {\n\tconst token = localStorage.getItem('token');\n\treturn axios.create({\n\t\t// baseURL: 'https://cs28labyrinth.herokuapp.com/',\n\t\tbaseURL: 'http://localhost:8000/',\n\t\theaders: {\n\t\t\tAuthorization: token,\n\t\t},\n\t});\n};\n","import React, { useEffect } from 'react';\nimport axios from 'axios';\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\n\n// id = req.params.id\nconst moveNorth = () => {\n\n    axiosWithAuth().post('api/adv/move/', {\n        direction: \"n\"\n    })\n    .then((res) => {\n        console.log(res.data);\n    })\n    .catch(err => console.log(err));\n}\n\n const moveEast = () => {\n    axiosWithAuth().post('/api/adv/move/', {\n        direction: \"e\"\n    })\n    .then((res) => {\n        console.log(res.data);\n    });\n}\n\n const moveSouth = () => {\n\n    axiosWithAuth().post('/api/adv/move/', {\n        direction: \"s\"\n    })\n    .then((res) => {\n        console.log(res.data);\n    });;\n}\n\nconst moveWest = () => {\n\n    axiosWithAuth().post('/api/adv/move/', {\n        direction: \"w\"\n    })\n    .then((res) => {\n        console.log(res.data);\n    });\n}\nexport {moveNorth, moveEast, moveSouth, moveWest}","import React, { useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { moveNorth, moveEast, moveSouth, moveWest } from './MovementCalls';\n\n\nconst Card = styled.div`\n\tbackground-image: linear-gradient(to bottom right, lightblue, darkblue);\n\tcolor: white;\n\twidth: 400px;\n\theight: 200px;\n\tborder: ridge 5px dodgerblue;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin: 20px;\n`;\n\nexport default function MovementBar() {\n\tlet history = useHistory();\n\n\t// useEffect(() => {\n\t// \taxios\n\t// \t\t.post('https://cs28labyrinth.herokuapp.com/api/adv/move/', {\n\t// \t\t\tdirection: 'n'\n\t// },\n\t// \t\t})\n\t// \t\t.then((res) => {\n\t// \t\t\tconsole.log(res);\n\t// \t\t});\n\t// });\n\n\t// move north\n\t//  moveNorth = event => {\n\t// \tevent.preventDefault()\n\t// \taxios.post('https://cs28labyrinth.herokuapp.com/api/adv/move/n_to', {\n\t// \t\t...values,\n\t// \t})\n\t// \t.then((res) => {\n\t// \t\tconsole.log(res);\n\t// \t});\n\t// }\n\n\t// moveEast = event => {\n\t// \tevent.preventDefault()\n\t// \taxios.post('https://cs28labyrinth.herokuapp.com/api/adv/move/', {\n\t// \t\t...values,\n\t// \t})\n\t// \t.then((res) => {\n\t// \t\tconsole.log(res);\n\t// \t});\n\t// }\n\n\t// moveSouth = event => {\n\t// \tevent.preventDefault()\n\t// \taxios.post('https://cs28labyrinth.herokuapp.com/api/adv/move/', {\n\t// \t\t...values,\n\t// \t})\n\t// \t.then((res) => {\n\t// \t\tconsole.log(res);\n\t// \t});\n\t// }\n\n\t// moveWest = event => {\n\t// \tevent.preventDefault()\n\t// \taxios.post('https://cs28labyrinth.herokuapp.com/api/adv/move/', {\n\t// \t\t...values,\n\t// \t})\n\t// \t.then((res) => {\n\t// \t\tconsole.log(res);\n\t// \t});\n\t// }\n\n\treturn (\n\t\t<Card>\n\t\t\t<h3>Choose which direction to move:</h3>\n\t\t\t<button onClick={moveNorth}>N</button>\n\t\t\t<button onClick={moveEast}>E</button>\n\t\t\t<button onClick={moveSouth}>S</button>\n\t\t\t<button onClick={moveWest}>W</button>\n\t\t</Card>\n\t);\n}","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Room from \"./Room\";\nimport MovementBar from \"./MovementBar\";\n\nexport default function MainPage() {\n  const [room, setRoom] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\"https://cs28labyrinth.herokuapp.com/api/adv/rooms/\")\n      .then((res) => {\n        const roomData = res.data.rooms;\n        setRoom(roomData);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  return (\n    <>\n      {room.map((item) => {\n        return (\n          <Room\n            getTitle={item.fields.title}\n            getDescription={item.fields.description}\n          />\n        );\n      })}\n      <MovementBar />\n    </>\n  );\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender={(props) => {\n\t\t\t\tif (localStorage.getItem('token')) {\n\t\t\t\t\treturn <Component {...props} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <Redirect to=\"/login\" />;\n\t\t\t\t}\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst NavBar = styled.div`\n\tbackground-image: linear-gradient(to bottom right, lightblue, white);\n\tcolor: white;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-evenly;\n`;\n\nexport default function Navigation() {\n\treturn (\n\t\t<NavBar>\n\t\t\t<NavLink to=\"/login\">Log In</NavLink>\n\t\t\t<NavLink to=\"/mainpage\">Home</NavLink>\n\t\t\t<NavLink to=\"/mappage\">Play The Game</NavLink>\n\t\t\t<NavLink to=\"/register\">Sign Out</NavLink>\n\t\t</NavBar>\n\t);\n}\n","import React, { useRef } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n\nexport default function Chat({ messages }) {\n  const inputEl = useRef(null);\n  function say() {\n    axiosWithAuth()\n      .post(\"/api/adv/say/\", { message: inputEl.current.value })\n      .then((res) => {\n        inputEl.current.value = \"\";\n      });\n  }\n  console.log(messages);\n  return (\n    <div>\n      <div>\n        {messages &&\n          messages.map((e, i) => {\n            return (\n              <div key={i}>\n                {e.user} : {e.message}\n              </div>\n            );\n          })}\n      </div>\n      <div>\n        <input ref={inputEl} type=\"text\" />\n        <button onClick={say}>Send</button>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport MovementBar from \"./MovementBar\";\nimport \"./MapPage.css\";\nimport Chat from \"./Chat\";\nimport Room from \"./Room\";\n\nexport default function MapPage() {\n  const [len, setLen] = useState();\n  const [rooms, setRooms] = useState();\n  const [messages, setMessages] = useState([]);\n  const [user, setUser] = useState();\n  const [players, setPlayers] = useState({});\n\n  useEffect(() => {\n    async function fetchData() {\n      const res = await axios.get(\n        // \"https://cs28labyrinth.herokuapp.com/api/adv/rooms/\"\n        \"http://localhost:8000/api/adv/rooms/\"\n      );\n      const len = Math.sqrt(res.data.rooms.length);\n      setLen(len);\n      res.data.rooms.sort((a, b) => a.pk - b.pk);\n      setRooms(res.data.rooms);\n    }\n\n    async function fetchData2() {\n      const res = await axiosWithAuth().get(\n        // \"https://cs28labyrinth.herokuapp.com/api/adv/init/\"\n        \"http://localhost:8000/api/adv/init/\"\n      );\n      setUser(res.data);\n      // window.Pusher.logToConsole = true;\n\n      var pusher = new window.Pusher(\"34ea5cc8c99a7964e5da\", {\n        cluster: \"us2\",\n      });\n\n      var channel = pusher.subscribe(`p-channel-${res.data.uuid}`);\n      channel.bind(\"broadcast\", function (data) {\n        setMessages((prev) => [...prev, data]);\n      });\n\n      let channel2 = pusher.subscribe(`p-channel-${res.data.uuid}`);\n      channel2.bind(\"enter\", function (data) {\n        setPlayers((prev) => ({\n          ...prev,\n          [data.uuid]: data.current_room,\n        }));\n      });\n\n      let channel3 = pusher.subscribe(`p-channel-${res.data.uuid}`);\n      channel3.bind(\"move\", function (data) {\n        setPlayers((prev) => ({ ...prev, [data.uuid]: data.current_room }));\n      });\n\n      let channel4 = pusher.subscribe(`p-channel-${res.data.uuid}`);\n      channel4.bind(\"exit\", function (data) {\n        setPlayers((prev) => {\n          delete prev[data.uuid];\n          return { ...prev };\n        });\n      });\n\n      await axiosWithAuth().get(\n        // \"https://cs28labyrinth.herokuapp.com/api/adv/enter/\"\n        \"http://localhost:8000/api/adv/enter/\"\n      );\n    }\n    fetchData();\n    fetchData2();\n\n    function userLeft(ev) {\n      axiosWithAuth()\n        .get(\n          // \"https://cs28labyrinth.herokuapp.com/api/adv/exit/\"\n          \"http://localhost:8000/api/adv/exit/\"\n        )\n        .then((res) => res);\n    }\n    window.addEventListener(\"beforeunload\", userLeft);\n\n    return window.removeEventListener(\"beforeunload\", userLeft);\n  }, []);\n  console.log(user);\n  return (\n    <div className=\"outer\">\n      <div className=\"labyrinth\">\n        <div className=\"room-container\">\n          {rooms &&\n            rooms.map((v, i) => {\n              const { fields } = v;\n              let borders = \"room\";\n              if (!fields.e_to) {\n                borders = borders.concat(\" \", \"border-right\");\n              }\n              if (!fields.w_to) {\n                borders = borders.concat(\" \", \"border-left\");\n              }\n              if (!fields.n_to) {\n                borders = borders.concat(\" \", \"border-top\");\n              }\n              if (!fields.s_to) {\n                borders = borders.concat(\" \", \"border-bottom\");\n              }\n              for (const p in players) {\n                if (players[p] === v.pk) {\n                  borders = borders.concat(\" \", \"player\");\n                  break;\n                }\n              }\n              return <div className={borders} key={v.pk}></div>;\n            })}\n        </div>\n        <MovementBar />\n      </div>\n      <div className=\"menu\">\n        <Room getTitle={user?.title} getDescription={user?.description} />\n        <Chat messages={messages} />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport './App.css';\n\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport MainPage from './components/MainPage';\nimport PrivateRoute from './components/PrivateRoute';\nimport Navigation from './components/Navigation';\nimport MapPage from './components/MapPage';\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<h1>The Labyrinth</h1>\n\t\t\t<Navigation />\n\t\t\t<header className=\"App-header\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t\t<Route exact path=\"/register\" component={Register} />\n\n\t\t\t\t\t<PrivateRoute exact path=\"/mainpage\" component={MainPage} />\n\t\t\t\t\t<PrivateRoute exact path=\"/mappage\" component={MapPage} />\n\t\t\t\t</Switch>\n\t\t\t</header>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n\t<Router>\n\t\t<App />\n\t</Router>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}